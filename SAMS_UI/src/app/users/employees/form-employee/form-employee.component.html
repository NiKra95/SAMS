<form (submit)="saveChanges()" [formGroup]="form">
    <mat-form-field appearance="outline">
        <mat-label>First Name</mat-label>
        <input formControlName="firstName" matInput />
        <mat-error>First name is a required</mat-error>
    </mat-form-field>

    <mat-form-field appearance="outline">
        <mat-label>Last Name</mat-label>
        <input formControlName="lastName" matInput />
        <mat-error>Last name is a required</mat-error>
    </mat-form-field>

    <mat-form-field  appearance="outline">
        <mat-label>Email</mat-label>
        <input formControlName="email" matInput />
        <mat-error>{{getEmailErrorMessage()}}</mat-error>
    </mat-form-field>

    <mat-form-field appearance="outline">
        <mat-label>Password</mat-label>
        <input matInput [type]="showPassword ? 'text' : 'password'" 
                formControlName="password"
                name="password"  />
        <mat-icon matSuffix (click)="togglePasswordVisibility()">
            {{showPassword?'visibility_off':'visibility'}}
        </mat-icon>
        <mat-error>The field password is required</mat-error>
    </mat-form-field>

    <mat-form-field appearance="outline">
        <mat-label>Gender</mat-label>
        <mat-select formControlName="gender" [(value)]="selectedGender">
            <mat-option *ngFor="let gender of genders; index as indexOfelement;" [value]="indexOfelement">
            {{gender}}
            </mat-option>
        </mat-select> 
        <mat-error>Gender is required</mat-error>
    </mat-form-field>

    <mat-form-field appearance="outline">
        <mat-label>Designation</mat-label>
        <input formControlName="designation" matInput />
        <mat-error>Last name is a required</mat-error>
    </mat-form-field>

    <mat-form-field appearance="outline">
        <mat-label>Start Working Date</mat-label>
        <input formControlName="startWorkingDate" matInput [matDatepicker]="picker" />
        <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
        <mat-datepicker #picker></mat-datepicker>
        <mat-error>Start working date is required</mat-error>
    </mat-form-field>

    <mat-form-field appearance="outline">
        <mat-label>Maximum Annual Leave</mat-label>
        <input type="number" formControlName="maximumAnnualLeave" matInput />
        <mat-error>Maximum annual leave is a required</mat-error>
    </mat-form-field>

    <div class="buttons">
        <button mat-flat-button color="primary" [disabled]="form.invalid">Save Changes</button>
        <a mat-stroked-button routerLink="/employees">Cancel</a>
    </div>

</form>
